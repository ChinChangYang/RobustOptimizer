function f = griewankrosenbrock(x)
% GRIEWANKROSENBROCK Step composite Griewank-Rosenbrock Function F8F2
% Properties Resembling the Rosenbrock function in a highly multimodal way.
% 
% * x_even variables are rounded to integers.
%
M = numel(x);
evenidx = 2 : 2 : M;
x(evenidx) = round(x(evenidx));
x = reshape(x, 1, M);
xopt = 20 * [2.10273277667992,1.47909016205913,-3.99615231035246,-2.70179508382452,3.30845937271164,-1.99950102240861,1.07574976651433,4.86509032395537,3.26360498027788,-3.18081623856146,-3.06722731240690,2.95218802828296,-4.16091050710405,-2.71713068185217,-2.70728657644606,-0.0241441115652918,1.11297588957617,-2.83179684970898,-4.34020655973944,1.82133117208314,0.863119956055922,-2.61109711978048,2.96559382025171,-4.82563190027439,3.05566755495539,-3.76891272331458,-4.80000912211490,3.01234873459792,-1.97925933016438,-0.368907382269017,3.50213462797291,2.84083169457501,3.22608211364496,1.91109101681775,0.340387463367346,-3.22889847648930,-0.678865048636156,-3.24711434307710,-2.72672626484368,1.71227741426991,1.05206187258826,1.94036169530254,-1.86647910500217,0.905866149339038,1.20400696858130,-1.83205082495174,3.19285844534532,-0.499035999061155,-1.28575304727526,-2.96174611005300,-3.17001166262626,4.32631931643456,-1.48107767040839,1.40151684600837,-4.39944583950256,2.98334242561087,-1.46646435070333,-4.10001438079518,2.31523693954513,1.55969046271567,-1.12128512447684,-3.85768652657640,-0.620514971410531,-1.80386986090575,2.93867241839194,2.19393155195403,-1.52936196364906,4.12023730998048,-1.99406290123320,-3.14639022074307,-4.92597530363062,-3.81567560946062,-1.31735821309889,-4.07832292965896,-3.42621689334592,-3.80177596543462,-2.85663294069911,0.394971783917669,1.26048332853648,-2.45743752494020,-3.17213333380241,3.36896948718576,-1.54234108805779,-2.11701103220568,4.87679937271070,0.773392811148454,4.32703460999922,-2.03105314020937,-3.13621396326392,3.21924885881603,1.02404828261925,-2.24193587180763,3.83157843135573,1.21007900206355,-3.89285911115427,0.822160880032033,2.37893854090693,2.29474463565769,4.25892735900574,3.95712696312069];
x = x - xopt(1:M);
s = 1e2 * (x(1:end-1).^2 - x(2:end)).^2 ...
	+ (x(1:end-1) - 1).^2;
f = 10 / (M - 1) * sum(s/4000 - cos(s)) + 10;
end

