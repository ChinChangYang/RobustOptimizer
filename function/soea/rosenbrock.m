function f = rosenbrock(x)
% ROSENBROCK Step shifted rosenbrock function
% Properties So-called banana function due to its 2-D contour lines as a
% bent ridge (or valley). In the beginning, the prominent first term of the
% function denition attracts to the point z = 0. Then, a long bending
% valley needs to be followed to reach the global optimum. The ridge
% changes its orientation D - 1 times. 
%
% * in larger dimensions the function has a local optimum with an
% attraction volume of about 25% 
% * x_even variables are rounded to integers.
%
M = numel(x);
evenidx = 2 : 2 : M;
x(evenidx) = round(x(evenidx));
x = reshape(x, 1, M);
xopt = 20 * [0.0112947742547451,4.36329388263839,3.61569671044482,3.30899749511108,1.34983301605343,3.46522896164907,-2.28236642424301,-2.86041697510390,0.660972415765496,0.161016739578558,3.12788292039109,-4.61858938861800,4.82953441679586,-2.13116856251026,1.09713100045016,1.41200266860489,4.31400638062006,-0.977895117346459,1.03922352446745,2.20202907460774,3.90202524391168,-2.53645535453138,-4.15349789325173,3.99621690430838,0.00404706842814040,-2.80931183058926,0.172227335727030,-3.95893019800960,-2.81587507779477,1.84303058590759,2.97660506958052,-2.75544529018158,1.41451390803924,4.92425225664086,0.667781511002535,-4.88280396150261,0.164826303141988,-0.985156597734540,4.21182046654185,-2.53154235610819,4.82106251995620,-2.76977219302670,-3.52134702746980,2.37129797671150,-2.64888440143437,1.22430337788999,1.51873524502029,2.15659005901439,-1.01047622990971,1.09172320117428,-1.22463649040799,-3.39994735233085,-0.911174051404997,-3.00362080019024,3.55660136138205,-4.45411091970506,-3.68649497492126,3.70149190346060,-2.60533068539218,-2.35580743551292,-0.870307220811318,-0.0459270277245594,2.18856594618577,1.93522971198302,-0.385007928245678,4.68589958953757,3.84002655942263,-1.14727495524935,0.597680310269437,4.10213452116456,-0.133846852693525,-2.24237620741675,-3.77264910550290,-3.97234378711709,-1.36244992976399,0.449135592018348,-2.99479269545568,-2.44011279499219,3.90969532938541,3.33994373036657,0.530005853620769,-1.05056909646566,-2.04317540714619,-0.290490948307756,4.45841016862344,1.92620693222736,-4.27700300421140,-2.06055283645489,-0.259620893337952,-1.18272343962138,0.699074972259210,4.38187936135229,4.11925119898894,-2.99088666886382,4.54874721079850,0.250619143017859,0.00540971237378418,4.16649619380861,-2.97755352571617,0.770574577250799];
x = x - xopt(1:M);
f = 1e2 * sum((x(1:end-1).^2 - x(2:end)).^2) ...
	+ sum((x(1:end-1) - 1).^2);
end

