function f = rastriginmix(x)
% RASTRIGINMIX Step shifted rastrigin function
% Properties Highly multimodal function with a comparatively regular
% structure for the placement of the optima. 
%
% * roughly 1e+D local optima 
% * x_even variables are rounded to integers.
%
M = numel(x);
evenidx = 2 : 2 : M;
x(evenidx) = round(x(evenidx));
x = reshape(x, 1, M);
xopt = 20 * [4.10665483411306,4.24147681898245,2.98315245367366,-0.953345422038020,-3.00090251413271,0.336515210489054,0.963801181583608,-0.0849710725003163,-2.31976400733854,-2.29890905149586,-1.08630347530697,0.908359607120052,2.87010687108339,3.11412685146504,-3.39707214827243,-3.25874523861523,-1.96871794631705,-3.14377573822665,2.42397493977861,0.415315910148015,-3.44677424924377,0.753829120263565,-1.50216403667136,3.14994511934229,-2.38661037601549,-2.21750482477832,4.43679308124633,-2.64414606186466,-1.52010556119921,-2.79410783467783,-3.17140891324023,2.56275276354036,-0.259385965061122,-1.54166226808221,4.69663610429771,-3.01460278980730,2.73072962071967,-1.32804594954136,-1.68123599042338,-0.995276109760653,0.884757297991374,2.38970366378819,-2.99424723879798,-1.79517208235874,-2.54188861603078,-3.34197396342185,-2.76046619826719,2.43407773737309,-3.01101425563713,4.28231748588079,-4.11230537961883,3.15438485723106,0.235932557920256,1.11375533512164,-3.24144006315150,3.07249209394188,3.00957778225728,-3.02419140555118,-1.70368436148438,1.92241009083102,-1.92392696759589,-4.98676363944532,-3.19854614841948,-3.46519906727021,0.377676212198144,-1.26983271478056,4.77696095948561,-2.22023901883851,3.17729024672224,3.31262376045430,-1.27804043577462,-3.77455045317944,-0.426014733589896,-2.66869339701288,0.565666669929508,2.12295947752338,2.78002409374824,0.0385612411323830,2.53195953381722,4.97431303802130,3.62910019872459,0.371976002780375,-2.17129958426287,-2.56149549963078,1.31992359904165,3.36614341563167,4.77655914672421,3.58426668401527,-3.00269000554921,1.15857576531578,0.214045152733697,-1.97920287761248,3.48139310630300,-4.36125918435619,3.91896832946871,1.58908669118083,2.96120633199878,1.65787644725660,2.31946541658305,-3.62295534593497];
x = x - xopt(1:M);
f = 10 * (M - sum(cos(2*pi*x))) + sum(x.^2);
end

